<mat-sidenav-container class="example-container" autosize>
  <mat-sidenav
    #sidenav
    class="example-sidenav animated fadeInLeft"
    [ngClass]="{ 'hide-mobile1': hideMobileMode }"
    [mode]="hideMobileMode ? 'over' : 'side'"
    [opened]="hideMobileMode ? false : true"
    (mouseenter)="mouseenter()"
    (mouseleave)="mouseleave()"
    [fixedInViewport]="true"
  >
    <h1
      class="example-app-name text-primary is-d-flex is-justify-content-center mt-4"
    >
      <img
        alt="Exza-Concert"
        class="is-logo"
        *ngIf="isExpanded || isShowing"
        src="assets/images/exzalogo.png"
      />
      <img
        alt="Exza-Concert"
        class="is-logo1"
        width="36"
        height="36"
        *ngIf="!isExpanded && islogo"
        src="assets/images/logo1.png"
      />
    </h1>
    <mat-nav-list (click)="OnCloseSearchedDiv()">
      <!-- New Documents Upload / Create Menu -->

      <mat-list-item
        class="parentMenu"
        routerLink="/user/dashboard"
        (click)="toggleMenu(''); goToDashboard()"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          >Dashboard</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
          >home
        </mat-icon>
      </mat-list-item>

      <mat-list-item class="parentMenu" [ngClass]="{ 'is-menu-active': showSubMenu == 'file' }"
        (click)="toggleMenu('file'); toggleFiles()" (keydown.escape)="dontClose()">
        <span class="full-width is-menu-title" *ngIf="isExpanded || isShowing">Files</span>
        <mat-icon mat-list-icon class="material-icons-outlined is-menu-icon">description</mat-icon>
        <mat-icon class="text-lightgray is-position-absolute" style="left: 0px"
          *ngIf="!showSubMenu || showSubMenu != 'file'">chevron_right</mat-icon>
        <mat-icon class="text-danger is-position-absolute" style="left: 0px"
          *ngIf="showSubMenu && showSubMenu == 'file'">expand_more</mat-icon>
      </mat-list-item>

      <mat-nav-list
        id="subFiles"
        class="sidenav-submenu"
        *ngIf="showSubMenu == 'file' && (isExpanded || isShowing)"
        (keydown.escape)="dontClose()"
      >
        <a
          class="is-subMenuItem"
          mat-list-item
          [routerLinkActive]="'is-menu-active'"
          routerLink="/user/files/all"
          (click)="OnClickPath(); gotoAllFiles()"
        >
          All Files
        </a>
        <a
          class="is-subMenuItem"
          mat-list-item
          [routerLinkActive]="'is-menu-active'"
          routerLink="/user/files/favorite"
          (click)="OnClickPath(); gotoFavoriteFiles()"
        >
          Favorites
        </a>
      </mat-nav-list>

      <mat-list-item class="parentMenu" [ngClass]="{ 'is-active': showSubMenu == 'photo' }"
        (click)="toggleMenu('photo'); togglePhotos()" (keydown.escape)="dontClose()">
        <span class="full-width is-menu-title" *ngIf="isExpanded || isShowing">Photos</span>
        <mat-icon mat-list-icon class="material-icons-outlined is-menu-icon">images</mat-icon>
        <mat-icon class="text-lightgray is-position-absolute" style="left: 0px"
          *ngIf="!showSubMenu || showSubMenu != 'photo'">chevron_right</mat-icon>
        <mat-icon class="text-danger is-position-absolute" style="left: 0px"
          *ngIf="showSubMenu && showSubMenu == 'photo'">expand_more</mat-icon>
      </mat-list-item>

      <mat-nav-list id="subphotos" class="sidenav-submenu" (keydown.escape)="dontClose()"
        *ngIf="showSubMenu == 'photo' && (isExpanded || isShowing)">
        <a class="is-subMenuItem" mat-list-item [routerLinkActive]="'is-menu-active'" routerLink="/user/photos/all" (click)="gotoAllPhotos()">
          All Photos
        </a>
        <a
          class="is-subMenuItem"
          mat-list-item
          [routerLinkActive]="'is-menu-active'"
          routerLink="/user/photos/favorite"
          (click)="gotoFavoritePhotos()"
        >
          Favorites
        </a>
      </mat-nav-list>

      <mat-list-item
        class="parentMenu"
        routerLink="/user/shared/all"
        (click)="toggleMenu(''); gotoShared()"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          (click)="OnClickPath()"
          >Shared
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
          (click)="OnClickPath()"
        >
          people</mat-icon
        >
      </mat-list-item>

      <mat-list-item
        class="parentMenu"
        routerLink="/user/activity/all"
        (click)="toggleMenu(''); gotoActivity()"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          >Activity</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
        >
          local_activity</mat-icon
        >
      </mat-list-item>

      <mat-list-item
        class="parentMenu"
        routerLink="/user/contacts"
        (click)="toggleMenu(''); gotoContacts()"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          >Contacts
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
        >
          people</mat-icon
        >
      </mat-list-item>

      <!-- <mat-list-item
        class="parentMenu"
        routerLink="/user/chat"
        (click)="toggleMenu('')"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          >Chat
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
        >
          chat</mat-icon
        >
      </mat-list-item> -->

      <mat-list-item
        class="parentMenu"
        routerLink="/user/trash/all"
        (click)="toggleMenu(''); gotoTrash()"
        (keydown.escape)="dontClose()"
      >
        <span
          class="full-width is-menu-title"
          *ngIf="isExpanded || isShowing"
          [routerLinkActive]="'is-menu-active'"
          >Trash
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
        >
        <mat-icon
          mat-list-icon
          class="material-icons-outlined is-menu-icon"
          [routerLinkActive]="'is-menu-active'"
        >
          delete</mat-icon
        > </mat-list-item
      ><br />
      <mat-divider></mat-divider>

      <mat-nav-list *ngIf="isExpanded || isShowing" class="pt-2">
        <div class="sidebar-bottom">
          <ion-row>
            <span style="padding: 3px">
              <mat-icon>timelapse</mat-icon>
            </span>
            <span
              style="padding: 5px"
              matTooltip="{{ storageValueInPercentage }}% of {{
                readableTotalSpace
              }} Used"
              matTooltipPosition="above"
              matTooltipClass="storageValue"
              *ngIf="isExpanded || isShowing"
            >
              <p class="_storageInPercent">
                {{ readableUsedSpace }} of {{ readableTotalSpace }} Used
              </p>
              <ion-progress-bar
                type="determinate"
                [color]="storageColorChanger()"
                value="{{ prosValue }}"
                class="_progressbar"
                >{{ prosValue }}
              </ion-progress-bar>
            </span>
          </ion-row>
          <div>
            <a
              class="_link"
              *ngIf="isExpanded || isShowing"
              (click)="showDialog()"
              >Upgrade Storage</a
            >
          </div>
        </div>
      </mat-nav-list>
    </mat-nav-list>

    <!-- <mat-nav-list class="is-storage">
      <ion-row>
        <span style="padding:5px">
          <mat-icon>timelapse</mat-icon>
        </span>
        <span style="padding:5px" matTooltip="{{usedSpaceInBytes}} of {{totalSpace}} Used" matTooltipPosition="above"
          matTooltipClass="storageValue" *ngIf="isExpanded || isShowing">
          <p class="_storageInPercent">{{spaceinpercent}}% of {{totalSpace}} Used</p>
          <ion-progress-bar type="determinate" [color]="storageColorChanger()" value={{storageValueInNumber}}
            class="_progressbar">{{storageValueInNumber}}
          </ion-progress-bar>
        </span>
      </ion-row>
      <div>
        <a class="_link" *ngIf="isExpanded || isShowing">Upgrade Storage</a>
      </div>
    </mat-nav-list> -->
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="is-topHeader">
      <mat-toolbar color="" class="example-toolbar">
        <div class="is-header">
          <button
            class="text-primary hide-mobile"
            mat-icon-button
            (click)="isExpanded = !isExpanded; OnClickFunction()"
          >
            <mat-icon>{{ isExpanded ? "menu" : "arrow_forward_ios" }}</mat-icon>
          </button>
          <button
            class="text-primary hide-desktop"
            mat-icon-button
            (click)="toggleMobileMenu()"
          >
            <mat-icon>{{ isExpanded ? "menu" : "arrow_forward_ios" }}</mat-icon>
          </button>
        </div>
        <span class="example-spacer"></span>
        <ion-grid>
          <ion-row>
            <ion-col
              size="8"
              size-sm="7"
              size-md="9.5"
              size-lg="9.5"
              size-xl="9.5"
              class="is-d-flex is-justify-content-start is-align-items-center"
            >
              <div class="dropdown _searchedInput" id="step8">
                <mat-form-field
                  class="example-form-field _searchField bg-white"
                  appearance="outline"
                >
                  <mat-icon
                    mat-list-icon
                    matBadgeColor="accent"
                    class="material-icons-outlined text-darkgray _searchedIcon"
                    >search</mat-icon
                  >
                  <input
                    matInput
                    type="text"
                    placeholder="Search"
                    [(ngModel)]="searchValue"
                    (keyup)="OnSearchValue(searchValue)"
                    autocomplete="off"
                  />
                  <button
                    *ngIf="searchValue"
                    matSuffix
                    mat-icon-button
                    aria-label="Clear"
                    (click)="OncancelSearch(); searchValue = ''"
                  >
                    <mat-icon>close</mat-icon>
                  </button>
                </mat-form-field>
                <div class="search-content" id="searchDiv">
                  <div class="mt-4">
                    <ion-row *ngIf="emptySearch">
                      <ion-col
                        size="12"
                        size-sm="12"
                        size-md="12"
                        size-lg="12"
                        size-xl="12"
                      >
                        <div class="text-center">
                          <img
                            src="assets/images/search.gif"
                            width="80"
                            height="80"
                          />
                        </div>
                        <div class="text-center">
                          <p style="color: rgb(172, 174, 175)">
                            Start typing to search
                          </p>
                        </div>
                      </ion-col>
                    </ion-row>
                    <ion-row *ngIf="!emptySearch">
                      <ion-col
                        *ngIf="searchedFile.length == 0"
                        size="12"
                        size-sm="12"
                        size-md="12"
                        size-lg="12"
                        size-xl="12"
                      >
                        <div>
                          <p style="color: rgb(172, 174, 175)">
                            No results for {{ searchValue }}
                          </p>
                        </div>
                      </ion-col>
                      <ion-col
                        size="12"
                        size-sm="12"
                        size-md="12"
                        size-lg="12"
                        size-xl="12"
                      >
                        <ion-row
                          class="bg-white is-fileList"
                          *ngFor="let files of searchedFile; index as i"
                          (click)="openSearchedFile(files.id)"
                        >
                          <ion-col
                            size="3"
                            size-sm="3"
                            size-md="1.5"
                            size-lg="1.5"
                            size-xl="1.5"
                            class="is-leftSide"
                          >
                            <span class="is-docImage">
                              <img
                                width="34px"
                                height="34px"
                                [src]="
                                  mimes[files.mimeType] != '' ||
                                  mimes[files.mimeType] != undefined
                                    ? mimes[files.mimeType].icon === 'src'
                                      ? files.icon
                                      : mimes[files.mimeType].icon
                                    : 'assets/images/otherDocument.png'
                                "
                                class="img-fluid"
                                alt="Exza-Concert"
                              />
                            </span>
                          </ion-col>
                          <ion-col
                            size="9"
                            size-sm="9"
                            size-md="7.5"
                            size-lg="7.5"
                            size-xl="7.5"
                            class="px-2"
                          >
                            <span
                              class="is-fileName"
                              matTooltip="{{ files.title }}"
                              >{{ files.title }}</span
                            ><br />
                            <span *ngIf="files.path != ''" class="_pathText"
                              >in {{ files.path }}</span
                            >
                          </ion-col>
                          <ion-col
                            size="3"
                            size-sm="3"
                            size-md="3"
                            size-lg="3"
                            size-xl="3"
                            class="px-2 hide-mobile"
                          >
                            <h2 class="is-createdAt">
                              <mat-icon
                                class="material-icons-outlined text-pink mx-0"
                                >schedule</mat-icon
                              >
                              {{ files.modifiedAt }}
                            </h2>
                          </ion-col>
                        </ion-row>
                        <p
                          *ngIf="searchedFile.length >= 5 && loadMore"
                          (click)="OngetMoreFiles()"
                          class="_moreFiles"
                        >
                          Load more results
                        </p>
                      </ion-col>
                    </ion-row>
                  </div>
                </div>
              </div>
            </ion-col>
            <ion-col
              size="4"
              size-sm="3"
              size-md="2.5"
              size-lg="2.5"
              size-xl="2.5"
              class="is-d-flex is-justify-content-start is-align-items-center"
            >
              <div class="dropdown">
                <button
                  id="step7"
                  matRipple
                  mat-mini-fab
                  matTooltip="Bookmarks"
                  class="bg-white is-topActionBtn"
                  (click)="getbookmarks()"
                  (mouseover)="getbook()"
                >
                  <mat-icon
                    mat-list-icon
                    class="material-icons-outlined text-darkgray"
                    >bookmarks</mat-icon
                  >
                </button>
                <div class="dropdown-content" *ngIf="linklist">
                  <div class="mt-2">
                    <ion-row>
                      <ion-col size="7">
                        <h2 class="bookmark">Bookmarks</h2>
                      </ion-col>
                      <ion-col size="4">
                        <span
                          class="material-icons addicon"
                          matTooltip="Add New Bookmark"
                          (click)="OnClickAdd()"
                          >add_circle_outline</span
                        >
                      </ion-col>
                      <ion-col size="1" *ngIf="bookmarkLength != 0">
                        <span
                          class="material-icons edit"
                          matTooltip="Edit"
                          (click)="OnEdit()"
                          >edit</span
                        >
                      </ion-col>
                    </ion-row>
                    <mat-divider></mat-divider>
                    <ion-row
                      class="is-appSection animated fadeIn mt-3"
                      *ngIf="bookmarkLength == 0"
                    >
                      <p
                        style="margin-left: 23%"
                        class="is-fontMedium text-center"
                      >
                        No Bookmarks added.
                      </p>
                    </ion-row>
                    <ion-row class="is-appSection animated fadeIn mt-3">
                      <!-- <ion-col size="4" class="is-d-flex is-justify-content-between" *ngFor="let apps of applist">
                        <div class="text-center is-appItem">
                          <mat-icon class="material-icons-outlined is-closed" *ngIf="delete" (click)=OnClearbookmark(apps.id)>close</mat-icon>
                          <img src="assets/images/links.png" class="is-appCircle">
                          <a [href]="apps.tag" target="_blank">
                            <p class="is-appTitle mb-2" matTooltip="{{ apps.title }}">{{apps.name}}</p>
                          </a>
                        </div>
                      </ion-col> -->
                      <ion-col size="12">
                        <ul class="p-0 m-0 is-fullwidth">
                          <li
                            class="is-d-flex mb-2"
                            *ngFor="let apps of applist; index as i"
                          >
                            <div
                              *ngIf="
                                !(
                                  apps.iconsrc == null ||
                                  apps.iconsrc == '' ||
                                  apps.iconsrc == apps.link
                                )
                              "
                            >
                              <img
                                [src]="apps.iconsrc"
                                class="is-appCircle"
                                style="margin-left: 10px"
                                width="30px"
                                height="30px"
                              />
                            </div>
                            <div
                              *ngIf="
                                apps.iconsrc == null ||
                                apps.iconsrc == '' ||
                                apps.iconsrc == apps.link
                              "
                            >
                              <img
                                src="assets/images/link.png"
                                class="is-appCircle"
                                style="margin-left: 10px"
                                width="30px"
                                height="30px"
                              />
                            </div>
                            <div class="is-body">
                              <a [href]="apps.link" target="_blank">
                                <span
                                  class="is-fontMedium is-appTitle px-3"
                                  matTooltip="{{ apps.name }}"
                                  >{{ apps.name }}</span
                                >
                              </a>
                            </div>
                            <div class="is-actions">
                              <mat-icon
                                class="material-icons-outlined is-close"
                                *ngIf="edit"
                                (click)="OnClearbookmark(apps.id)"
                                >close</mat-icon
                              >
                            </div>
                          </li>
                        </ul>
                      </ion-col>
                    </ion-row>
                  </div>
                </div>

                <div class="dropdown-content" *ngIf="cretelink">
                  <div class="mt-4">
                    <h2 class="bookmarks mt-2 text-center">Bookmarks</h2>
                    <ion-row class="is-appSection animated fadeIn">
                      <form [formGroup]="linkForm" autocomplete="off">
                        <div class="link_container ion-text-center">
                          <ion-row>
                            <mat-form-field
                              class="example-full-width mt-4"
                              appearance="outline"
                            >
                              <mat-label>Link Name</mat-label>
                              <input
                                type="text"
                                class="matinput"
                                matInput
                                placeholder="Link Name"
                                formControlName="link"
                                (keydown.enter)="save()"
                                oninput="this.value = this.value.replace(/[^A-Za-z0-9\-\_ '']|^ /g,'')"
                              />
                              <mat-error
                                *ngIf="linkForm.controls['link'].invalid"
                              >
                                Please Enter Link Name!
                              </mat-error>
                            </mat-form-field>
                          </ion-row>
                          <ion-row>
                            <mat-form-field
                              class="example-full-width example-full"
                              appearance="outline"
                            >
                              <mat-label>URL</mat-label>
                              <input
                                type="text"
                                class="matinput"
                                ng-pattern="/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/"
                                matInput
                                placeholder="URL"
                                formControlName="URL"
                                (keydown.enter)="save()"
                                oninput="this.value = this.value.replace(/[^A-Za-z0-9\-\_ ./:?#+=_'']|^ /g,'')"
                              />
                              <mat-error
                                *ngIf="linkForm.controls['URL'].invalid"
                              >
                                Please Enter URL!
                              </mat-error>
                            </mat-form-field>
                          </ion-row>

                          <ion-row class="mt-3">
                            <ion-col
                              size="6"
                              class="ion-text-center mt-2 bckbtn"
                            >
                              <button
                                mat-raised-button
                                class="backbtn"
                                (click)="back()"
                              >
                                Back
                              </button>
                            </ion-col>
                            <ion-col size="6" class="ion-text-center mt-2">
                              <button
                                mat-raised-button
                                class="savebtn"
                                [disabled]="
                                  linkForm.controls['link'].invalid ||
                                  linkForm.controls['URL'].invalid
                                "
                                type="submit"
                                ables
                                (click)="save()"
                              >
                                Save
                              </button>
                            </ion-col>
                          </ion-row>
                        </div>
                      </form>
                    </ion-row>
                  </div>
                </div>
              </div>
              <div
                (mouseover)="OnClickFunction()"
                (click)="drawer.toggle(); getNotification()"
              >
                <button
                  id="step6"
                  *ngIf="notificationValue != 0"
                  matRipple
                  mat-mini-fab
                  matTooltip="Notifications"
                  class="bg-white is-topActionBtn"
                >
                  <mat-icon
                    mat-list-icon
                    matBadge="{{ notificationValue }}"
                    matBadgeColor="accent"
                    class="material-icons-outlined text-darkgray"
                    >notifications_none</mat-icon
                  >
                </button>
                <button
                  id="step6"
                  *ngIf="notificationValue == 0"
                  matRipple
                  mat-mini-fab
                  matTooltip="Notifications"
                  class="bg-white is-topActionBtn"
                >
                  <mat-icon
                    mat-list-icon
                    matBadgeColor="accent"
                    class="material-icons-outlined text-darkgray"
                  >
                    notifications_none</mat-icon
                  >
                </button>
              </div>

              <span
                (click)="emailVerications()"
                *ngIf="!userDetails.emailVerified"
                class="is-notificationBadge cursor-pointer"
                matTooltip="please verify your email"
              >
                <mat-icon
                  class="material-icons-outlined is-warningIcon text-white"
                  >warning</mat-icon
                >
              </span>
              <div class="dropdown" id="step5">
                <span
                  class="is-position-relative"
                  *ngIf="!userDetails.emailVerified"
                  id="step5"
                >
                  <button
                    matTooltip="userDetails['fullName']"
                    [ngClass]="userName | slice: 0:1 | titlecase"
                    (mouseover)="OnClickFunction()"
                    class="profile-btn1"
                  >
                    {{ userName | slice: 0:1 | titlecase }}
                  </button>
                </span>

                <div
                  *ngIf="userDetails.emailVerified"
                  (mouseover)="openMenu = true"
                >
                  <span
                    *ngIf="
                      contactImgSrc == 'data:image/png;base64,null' ||
                      contactImgSrc == 'data:image/png;base64,'
                    "
                  >
                    <button
                      matTooltip="{{ userDetails['fullName'] | titlecase }}"
                      [ngClass]="
                        userDetails['fullName'].substring(0, 1) | titlecase
                      "
                      (mouseover)="OnClickFunction()"
                      class="profile-btn"
                    >
                      {{ userDetails["fullName"].substring(0, 1) | titlecase }}
                    </button>
                  </span>
                  <div
                    *ngIf="
                      !(
                        contactImgSrc == 'data:image/png;base64,null' ||
                        contactImgSrc == 'data:image/png;base64,' ||
                        contactImgSrc == null ||
                        contactImgSrc == ''
                      )
                    "
                  >
                    <img [src]="contactImgSrc" class="profilebtn" />
                  </div>
                </div>

                <div class="dropdown-contentprofile" *ngIf="openMenu">
                  <div xPosition="before" class="mt-3 p-0">
                    <div class="dropdown animated fadeIn">
                      <div
                        class="is-profilePic is-d-flex is-justify-content-center text-center my-2"
                      >
                        <span
                          class="is-userProfile"
                          *ngIf="
                            contactImgSrc == 'data:image/png;base64,null' ||
                            contactImgSrc == 'data:image/png;base64,'
                          "
                        >
                          {{
                            userDetails["fullName"].substring(0, 1) | titlecase
                          }}
                        </span>
                        <span
                          *ngIf="
                            !(
                              contactImgSrc == 'data:image/png;base64,null' ||
                              contactImgSrc == 'data:image/png;base64,'
                            )
                          "
                          class="is-profilepicture"
                        >
                          <img class="_image" [src]="contactImgSrc" />
                        </span>
                      </div>
                      <ion-row class="is-d-flex is-justify-content-center">
                        <span
                          class="text-lightgray justify-align-center _nameAlign"
                          matTooltip="{{ userDetails['fullName'] | titlecase }}"
                          >{{ userDetails["fullName"] | titlecase }}</span
                        >
                      </ion-row>
                      <ion-row class="is-d-flex is-justify-content-center mt-2">
                        <span
                          class="text-darkgray is-fontMedium _emailAlign"
                          matTooltip="{{ email }}"
                          >{{ email }}</span
                        >
                      </ion-row>
                      <ion-row
                        class="is-d-flex is-justify-content-center mt-2 mb-4"
                      >
                        <button mat-stroked-button (click)="openSettings()">
                          Manage your Account
                        </button>
                      </ion-row>
                      <div class="text-center my-3">
                        <button
                          class="logout-btn"
                          mat-flat-button
                          (click)="logout()"
                        >
                          <span class="material-icons-outlined">logout</span
                          >Logout
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </mat-toolbar>
    </div>
    <mat-drawer-container fxFlex autosize class="background">
      <mat-drawer
        #drawer
        mode="side"
        opened="false"
        position="end"
        (mouseleave)="drawer.toggle()"
      >
        <div fxLayout="column">
          <ion-row class="is-viewDetails">
            <ion-col>
              <div>
                <div class="is-head" style="margin-top: 1rem">
                  <h3 class="mb-0 is-notifyName px-1">Notifications</h3>
                </div>
                <div class="is-body pb-3 pt-3">
                  <mat-divider></mat-divider>
                  <div
                    xPosition="before"
                    class="mt-3 p-0 is-notificationMatMenu"
                  >
                    <ion-row class="is-notificationSection">
                      <div
                        class="is-d-flex is-justify-content-between is-align-items-center is-fullwidth px-2 mb-1"
                      >
                        <span
                          (click)="viewAllNotification(); drawer.toggle()"
                          class="text-info is-fontMedium cursor-pointer"
                          >View All</span
                        >
                        <span
                          (click)="clearAllNotification()"
                          class="text-danger is-fontMedium cursor-pointer"
                          >Clear All</span
                        >
                      </div>
                      <ion-col size="12">
                        <p
                          *ngIf="allnotificationsLength == 0"
                          style="margin-top: 3rem"
                          class="is-fontMedium text-center"
                        >
                          There is no unread notifications
                        </p>
                        <ul class="p-0 m-0 is-fullwidth">
                          <li
                            class="is-d-flex"
                            *ngFor="let item of allnotifications; index as i"
                            [ngClass]="{
                              'bl-pink': item.objectType == 'WELCOME',
                              'bl-info':
                                item.objectType == 'EMAIL_VERIFICATION',
                              'bl-danger':
                                item.objectType == 'STORAGE_FULL' ||
                                'FILE_UNSHARED',
                              'bl-blue': item.objectType == 'FILE_SHARED',
                              'is-notificationItem': item.status != 'VIEWED',
                              _notificationVied: item.status == 'VIEWED'
                            }"
                          >
                            <div
                              class="is-body"
                              (click)="
                                dismissAllNotificationById(
                                  item,
                                  item.id,
                                  'VIEWED_AND_READ',
                                  item.objectType
                                )
                              "
                            >
                              <span
                                [ngClass]="{
                                  'text-pink': item.objectType == 'WELCOME',
                                  'text-info':
                                    item.objectType == 'EMAIL_VERIFICATION',
                                  'text-danger':
                                    item.objectType == 'STORAGE_FULL' ||
                                    'FILE_UNSHARED',
                                  'text-blue': item.objectType == 'FILE_SHARED'
                                }"
                                class="is-fontMedium _notificationSub"
                                matTooltip="{{ item.subject }}"
                                >{{ item.subject }}</span
                              >
                              <p class="mb-0" matTooltip="{{ item.message }}">
                                {{ item.message }}
                              </p>
                            </div>
                            <div
                              class="is-action"
                              (click)="
                                dismissAllNotificationById(
                                  item,
                                  item.id,
                                  'DELETED',
                                  item.objectType
                                )
                              "
                            >
                              <mat-icon class="material-icons-outlined is-close"
                                >close</mat-icon
                              >
                            </div>
                          </li>
                        </ul>
                      </ion-col>
                    </ion-row>
                  </div>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </div>
      </mat-drawer>
      <div class="container-fluid">
        <router-outlet></router-outlet>
        <div *ngIf="userDetails.emailVerified">
          <ion-row *ngIf="uploadLoader">
            <ion-col>
              <div class="is-uploadProgress">
                <div class="is-head">
                  <h3
                    class="mb-0 px-1 text-white _header"
                    *ngIf="
                      headerUploadcompleted && multiUploadedFiles.length > '1'
                    "
                  >
                    {{ multiUploadedFiles.length }} Files Upload Complete
                  </h3>
                  <h3
                    class="mb-0 px-1 text-white _header"
                    *ngIf="
                      headerUploadcompleted && multiUploadedFiles.length == '1'
                    "
                  >
                    {{ multiUploadedFiles.length }} File Upload Complete
                  </h3>
                  <h3
                    class="mb-0 px-1 text-white _header"
                    *ngIf="
                      headerUploadProgress && multiUploadedFiles.length == '1'
                    "
                  >
                    Uploading {{ multiUploadedFiles.length }} File
                  </h3>
                  <h3
                    class="mb-0 px-1 text-white _header"
                    *ngIf="
                      headerUploadProgress && multiUploadedFiles.length > '1'
                    "
                  >
                    Uploading {{ multiUploadedFiles.length }} Files
                  </h3>
                  <div class="is-d-flex is-justify-content-end">
                    <button
                      mat-mini-fab
                      class="bg-white is-icon mx-1"
                      *ngIf="OntogglePopup"
                      (click)="OntoggleLoaderpopUp()"
                      matTooltip="Minimize"
                    >
                      <mat-icon class="material-icons-outlined text-black"
                        >expand_more</mat-icon
                      >
                    </button>
                    <button
                      mat-mini-fab
                      class="bg-white is-icon mx-1"
                      (click)="OntoggleLoaderpopUp()"
                      *ngIf="!OntogglePopup"
                      matTooltip="Maximize"
                    >
                      <mat-icon class="material-icons-outlined text-black"
                        >expand_less</mat-icon
                      >
                    </button>
                    <button
                      mat-mini-fab
                      class="bg-white is-icon mx-1"
                      matTooltip="Close"
                      (click)="OncancelUploadbox()"
                    >
                      <mat-icon class="material-icons-outlined text-black"
                        >close</mat-icon
                      >
                    </button>
                  </div>
                </div>
                <div class="is-body" id="toggle">
                  <div *ngFor="let files of multiUploadedFiles; index as i">
                    <div class="is-uploadItem">
                      <span class="is-d-flex">
                        <mat-icon class="material-icons-outlined text-darkgray"
                          >image</mat-icon
                        >
                      </span>
                      <p class="mb-0 is-fileName" matTooltip="{{ files.name }}">
                        {{ files.name }}
                      </p>
                      <span>{{ files.percentDone }} %</span>
                      <span
                        *ngIf="files.Uploadcompleted"
                        matTooltip="Uploaded successfully"
                      >
                        <button
                          mat-mini-fab
                          id="done"
                          class="bg-success is-icon mx-1"
                        >
                          <mat-icon class="material-icons-outlined text-white"
                            >done</mat-icon
                          >
                        </button>
                      </span>
                    </div>
                    <mat-progress-bar
                      mode="determinate"
                      [value]="files.percentDone"
                    ></mat-progress-bar>
                  </div>
                </div>
              </div>
            </ion-col>
          </ion-row>
        </div>
      </div>
    </mat-drawer-container>
  </mat-sidenav-content>
</mat-sidenav-container>
